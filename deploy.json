{
    "apps": [
        {
            "name": "openstf",
            "script": "./bin/stf",
            "env": {
                "COMMON_VARIABLE": "true"
            },
            "env_production": {
                "NODE_ENV": "production"
            },
            "env_staging": {
                "NODE_ENV": "staging",
                "PORT": 3000
            }
        }
    ],
    "deploy": {
        "staging": {
            "user": "zhangfenglin",
            "host": "127.0.0.1",
            "ref": "origin/master",
            "repo": "git@github.com:zhangfenglin/stf.git",
            "path": "/Users/zhangfenglin/apps/stf",
            "env": {
                "NODE_ENV":"staging",
                "PORT":3000
            },
            "post-deploy": "npm i && npm upgrade && pm2 startOrRestart deploy.json --env staging"
        }
    }
}